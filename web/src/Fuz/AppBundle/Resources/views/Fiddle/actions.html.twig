{# FuzAppBundle:Fiddle:actions.html.twig #}
{# Included by: FuzAppBundle:Fiddle:index.html.twig #}

{#
 # This file is part of twigfiddle.com project.
 #
 # (c) Alain Tiemblo <alain@fuz.org>
 #
 # For the full copyright and license information, please view the LICENSE
 # file that was distributed with this source code.
 #}

{# Run button #}
<button
    type="button"
    id="run"
    class="btn btn-tf-green domajax click"
    title="Render the given template/context"
    data-endpoint="{{ path('run_fiddle', {'hash': hash, 'revision': revision}) }}"
    data-input="#page-form"
    data-callback-before="clearFiddleErrors clearFiddleResult"
    data-callback-success="processRunFiddleResponse"
    data-callback-failure="handleAjaxErrors"
    data-lock="#actions"
    data-replace="#result-pane"
    data-replace-by="#wait"
><span class="glyphicon glyphicon glyphicon-play hidden-md hidden-sm hidden-xs"></span> Run</button>

{# Save button #}
<button
    type="button"
    id="save"
    class="btn btn-tf-dark domajax click"
    title="Save fiddle's changes"
    data-endpoint="{{ path('save_fiddle', {'hash': hash, 'revision': revision}) }}"
    data-input="{% if bookmark %}.bookmark-input{% else %}#page-form{% endif %}"
    data-callback-before="clearFiddleErrors"
    data-callback-success="processSaveFiddleResponse"
    data-callback-failure="handleAjaxErrors"
    data-lock="#actions"
    data-highlight=""
    data-highlight-color-success="#87b839"
    data-highlight-color-failure="#FF0000"
    {% if canSave == false and bookmark == null %}disabled{% endif %}
 ><span class="glyphicon glyphicon glyphicon-floppy-disk hidden-md hidden-sm hidden-xs"></span> Save</button>

{# Share button #}
<button
    id="share"
    type="button"
    class="btn btn-tf-dark"
    title="Get fiddle's url"
    {% if data.id == null %}disabled{% else %}data-toggle="modal" data-target="#share-modal"{% endif %}>
    <span class="glyphicon glyphicon glyphicon-share-alt hidden-md hidden-sm hidden-xs"></span> Share
</button>
{% if data.id %}{{ include('FuzAppBundle:Fiddle:share-modal.html.twig') }}{% endif %}

{{ include('FuzAppBundle:Fiddle:visibility.html.twig') }}

{{ include('FuzAppBundle:Fiddle:bookmark.html.twig') }}
