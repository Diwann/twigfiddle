{# FuzAppBundle:Fiddle:script.html.twig #}

<script type="text/javascript">

    {# used in FuzAppBundle:Fiddle:templates-pane.html.twig #}
    $('.add-template').on('click', function () {
        var templates = $('#templates');
        var prototype = templates.data('prototype');
        var count = $('#templates .template').length;
        var index = count + 1;
        var template = $(prototype.replace(/__name__/g, index));
        template.remove(".text-danger");
        template.find(".text-danger").remove().end().appendTo(templates);
        templates.append(template);
    });

    {# used in FuzAppBundle:Fiddle:templates-theme.html.twig #}
    $('.delete-template').on('click', function () {
       var id = $(this).data('id');
       $('#row-' + id).remove();
    });

    {# used in FuzAppBundle:Fiddle:templates-theme.html.twig #}
    $('.main-template').on('change', function (e) {
        var ticked = $(this).data('id');
        $('.template').each(function() {
            var that = $(this);
            if (that.data('id') === ticked) {
                that.find(':checkbox').prop('checked', true);
            } else {
                that.find(':checkbox').prop('checked', false);
            }
        });
    });

</script>
