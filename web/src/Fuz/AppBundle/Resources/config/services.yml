parameters:
    app.oauth_user_provider.class: Fuz\AppBundle\Model\OAuthUserProvider
    hwi_oauth.account.connector: Fuz\AppBundle\Connect\AccountConnect
    app.form.fiddle.class: Fuz\AppBundle\Form\FiddleType
    app.twig.debug_extension.class: Fuz\AppBundle\Twig\Extension\DebugExtension
    app.twig.safety_extension.class: Fuz\AppBundle\Twig\Extension\SafetyExtension
    app.twig.github_extension.class: Fuz\AppBundle\Twig\Extension\GitHubExtension
    app.twig.hash_extension.class: Fuz\AppBundle\Twig\Extension\HashExtension
    app.helper.doctrine_helper.class: Fuz\AppBundle\Helper\DoctrineHelper
    app.subscriber.fiddle.class: Fuz\AppBundle\EventListener\FiddleSubscriber
    app.utilities.class: Fuz\AppBundle\Service\Utilities
    app.process_configuration.class: Fuz\AppBundle\Service\ProcessConfiguration
    app.run_fiddle.class: Fuz\AppBundle\Service\RunFiddle
    app.save_fiddle.class: Fuz\AppBundle\Service\SaveFiddle

services:

    app.oauth_user_provider:
        class: %app.oauth_user_provider.class%
        arguments: [@session, @doctrine.orm.entity_manager]

    hwi_oauth.account.connector:
        class: %hwi_oauth.account.connector%

    app.form.fiddle:
         class: %app.form.fiddle.class%
         arguments: [@app.process_configuration]
         tags:
            - { name: form.type, alias: FiddleType }

    app.twig.debug_extension:
         class: %app.twig.debug_extension.class%
         arguments: []
         tags:
             - { name: twig.extension }

    app.twig.safety_extension:
         class: %app.twig.safety_extension.class%
         arguments: [%kernel.root_dir%]
         tags:
             - { name: twig.extension }

    app.twig.github_extension:
         class: %app.twig.github_extension.class%
         arguments: [%github_repository_root%]
         tags:
             - { name: twig.extension }

    app.twig.hash_extension:
         class: %app.twig.hash_extension.class%
         arguments: []
         tags:
             - { name: twig.extension }

    app.helper.doctrine_helper:
         class: %app.helper.doctrine_helper.class%
         arguments: [@doctrine.orm.entity_manager]

    app.subscriber.fiddle:
        class: %app.subscriber.fiddle.class%
        tags:
             - { name: doctrine.event_subscriber, connection: default }

    app.utilities:
         class: %app.utilities.class%
         arguments: [@logger]
         tags:
             - { name: monolog.logger, channel: service.utilities }

    app.process_configuration:
        class: %app.process_configuration.class%
        arguments: [@logger, %process%, %kernel.environment%]
        tags:
            - { name: monolog.logger, channel: service.process_configuration }

    app.run_fiddle:
         class: %app.run_fiddle.class%
         arguments: [@logger, @filesystem, @app.utilities, @app.process_configuration, %process%]
         tags:
             - { name: monolog.logger, channel: service.run_fiddle }

    app.save_fiddle:
         class: %app.save_fiddle.class%
         arguments: [@logger, @app.utilities, @app.helper.doctrine_helper, @doctrine.orm.entity_manager, @session, @router, %web%]
         tags:
             - { name: monolog.logger, channel: helper.fiddle }
